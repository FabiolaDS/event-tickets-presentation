@page "/events/{id:long}"
@inject IEventService _service
@inject NavigationManager _navigationManager
@using eventTicketPesentation.Service
@using eventTicketPesentation.Shared.Components.NavMenu

<NavMenu ShowLogin="true" ShowRegister="true"></NavMenu>
<section class="event">
    <div class="container image__container">
        <img class="img-fluid event__thumbnail" src="@_event.Thumbnail" alt="Thumbnail"/>
    </div>
    <h3 class="event__title">@_event.Name</h3>

    <div class="event__details">
        <ul class="event__data">
            <li class="event__data-item">
                <img class="event__icon" src="images/calendar-icon.svg" alt="Calendar icon"/>
                <h5 class="event__text">@_event.DateTime.ToShortDateString()</h5>
            </li>
            <li class="event__data-item">
                <img class="event__icon" src="images/time-icon.svg" alt="Time icon"/>
                <h5 class="event__text">@_event.DateTime.DayOfWeek, @_event.DateTime.Hour pm</h5>
            </li>
            <li class="event__data-item">
                <img class="event__icon" src="images/location-icon.svg" alt="Location icon"/>
                <h5 class="event__text">@_event.Location</h5>
            </li>
        </ul>
    </div>
    <div class="event__payment">
        <div class="event__payment-price">
            <img class="event__icon" src="images/tickets-icon.svg" alt="Tickets icon"/>
            <h5 class="event__text">@_event.Price dkk</h5>
        </div>
        @* <button class="event__buy-button" @onclick="BuyTicket">Buy ticket</button> *@
        <a class="event__buy-link main-link" href="@($"/events/{_event.Id}/checkout")">Buy ticket</a>
    </div>

    <div class="event__description">
        <p class="event__paragraph">@_event.Description</p>
    </div>
</section>

@code {

    [Parameter]
    public long Id { get; set; }

    private Models.Event _event = new Models.Event();
    

    protected override async Task OnInitializedAsync()
    {
        Console.WriteLine("Id: " +Id);
        _event = await _service.GetEventByIdAsync(Id);
        Console.WriteLine(_event);
        StateHasChanged();

    }

   

}